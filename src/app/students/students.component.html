<body>

  <div class="div-12">

    <div class="div-11">

      <div class="div-10">
        <p class="p-all">Reservation Records</p>

        <div class="div-13">

          <input type="text" placeholder="Search" class="input-search" [(ngModel)]="searchText"
            (input)="onSearchChange()">
          <img src="stocks-page\magnifying-glass-solid.svg" alt="no image" class="img-search">
        </div>


      </div>
    </div>

    <div class="table-container">


      <table class="student-table">
        <thead>
          <tr>
            <th>Id</th>
            <th>User Name</th>
            <th>Book Name</th>
            <th>reserved At</th>
            <th>Status</th>
            <th>Action</th>

          </tr>
        </thead>

        <tbody *ngFor="let item of data; let i = index">
          <tr>
            <td>{{item.id}}</td>
            <td>{{item.user_name}}</td>
            <td>{{item.book_title}}</td>
            <td>{{item.reserved_at| date: 'yyyy-MM-dd'}}</td>
            <td>{{item.status}}</td>
            <div class="div-005">
              <img src="assets\pen-solid.svg" alt="no image" class="img-edit" (click)="editGenre(item.id, item.name)">
              <img src="assets/trash-solid.svg" alt="no image" class="img-trash" (click)="deleteGenre(item.id)">

            </div>

          </tr>



        </tbody>


      </table>






    </div>

    <div class="div-002">
      <button class="btn-add" (click)="openPopup()">Add Reservation</button>



    </div>

<div class="popup-backdrop" *ngIf="showPopup">
  <div class="popup">
    <h3>Add New Reservation</h3>

    <input type="number" [(ngModel)]="newReservation.user_id" placeholder="User ID" class="input-genre" />

    <input type="number" [(ngModel)]="newReservation.book_id" placeholder="Book ID" class="input-genre" />

    <input type="text" [(ngModel)]="newReservation.status" placeholder="Status (e.g., pending)" class="input-genre" />

    <input type="date" [(ngModel)]="newReservation.reserved_at" placeholder="Reserved Date" class="input-genre" />

    <div class="popup-buttons">
      <button class="btn-submit" (click)="submitReservation()">Submit</button>
      <button class="btn-cancel" (click)="closePopup()">Cancel</button>
    </div>
  </div>
</div>

  </div>

</body>